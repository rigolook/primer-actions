# Nombre del workflow que aparecerÃ¡ en la interfaz de GitHub
name: Hola DevOps

# Evento que activa el workflow
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:
    inputs:
      mensaje:
        description: 'Mensaje personalizado'
        required: true
        default: 'Â¡Hola DevOps!'

# Jobs que se ejecutarÃ¡n
jobs:
  # Nombre del job
  saludar:
    # Runner donde se ejecutarÃ¡ (mÃ¡quina virtual con Ubuntu)
    runs-on: ubuntu-latest

    # Pasos que se ejecutarÃ¡n en orden
    steps:
      # Paso 1: Hacer checkout del cÃ³digo
      - name: Checkout del repositorio
        uses: actions/checkout@v4

      # Paso 2: Ejecutar comando de shell
      - name: Primer mensaje
        run: echo "ğŸš€ Iniciando el workflow"

      - name: Mensaje principal
        run: echo "Â¡Hola DevOps!"

      - name: Mensaje de despedida
        run: echo "âœ… Workflow completado exitosamente"

      # OpciÃ³n 1: Variables de entorno
      - name: Imprimir mensaje personalizado
        env:
          MENSAJE: "Â¡Hola DevOps!"
          AUTOR: "Tu Nombre"
        run: |
          echo "$MENSAJE"
          echo "Creado por: $AUTOR"

      # OpciÃ³n 2: Input del usuario
      - name: Mensaje desde input
        run: echo "Mensaje ingresado: ${{ github.event.inputs.mensaje }}"

      # Paso 3: Mostrar informaciÃ³n del sistema
      - name: Mostrar informaciÃ³n del sistema
        run: |
          echo "=== InformaciÃ³n del Sistema ==="
          echo "Usuario: $(whoami)"
          echo "Directorio actual: $(pwd)"
          echo "Fecha y hora: $(date)"
          echo "VersiÃ³n de Ubuntu: $(lsb_release -d)"

      # ğŸ§© Nivel 1: AÃ±adir Emojis
      - name: Mensaje con emojis
        run: |
          echo "ğŸ‘‹ Â¡Hola DevOps!"
          echo "ğŸ‰ Este es tu primer workflow"
          echo "ğŸš€ Sigue aprendiendo GitHub Actions"

      # ğŸ“ Nivel 2: Crear un Archivo
      - name: Crear archivo de saludo
        run: |
          echo "Â¡Hola DevOps!" > saludo.txt
          echo "Archivo creado exitosamente"

      - name: Mostrar contenido del archivo
        run: cat saludo.txt

      # âš¡ Nivel 3: Condicionales
      - name: Mensaje condicional
        run: |
          if [ "${{ github.event_name }}" == "push" ]; then
            echo "ğŸ“ Ejecutado por push a ${{ github.ref }}"
          elif [ "${{ github.event_name }}" == "pull_request" ]; then
            echo "ğŸ” Ejecutado por pull request"
          fi